import{d as w,r as l,_ as x,Z as c,c as p,y as A,Y as m,E as S,F,V as d,X as N,J as y,a2 as T}from"./@vue-B8PMCPwU.js";import{C as g}from"./CodeEditor-1kS0DOHF.js";import"./codemirror-hwvxDye2.js";import"./@codemirror-BPrm9nb3.js";import"./@lezer-Csx8nwYw.js";import"./crelt-C8TCjufn.js";import"./@marijn-DXwl3gUT.js";import"./style-mod-Bs6eFhZE.js";import"./w3c-keyname-Vcq4gwWv.js";import"./prettier-B5g_hT_O.js";import"./dayjs-BHTRFByd.js";import"./app-CvsOIfNc.js";import"./vue-router-DB5MEJjo.js";import"./ant-design-vue-Bslm4asI.js";import"./@babel-Bq4_u9L9.js";import"./@ant-design-DcjsNAXz.js";import"./@ctrl-DOFZgDuz.js";import"./resize-observer-polyfill-B1PUzC5B.js";import"./@emotion-BtrR-yrm.js";import"./stylis-D5iaQeiq.js";import"./scroll-into-view-if-needed-SxpMpKWN.js";import"./compute-scroll-into-view-1gs_hJI2.js";import"./vue-types-99Xd1yP8.js";import"./dom-align-CRCehRfe.js";import"./lodash-es-DnYq9fPm.js";import"./async-validator-CRx4dHSJ.js";import"./throttle-debounce-CUWDS_la.js";import"./@icon-park-CZzytYRv.js";import"./@vueuse-Cg6gI6gr.js";import"./@unhead-B6qWnqD-.js";import"./unhead-DPTvQ17R.js";import"./hookable-B8xFkYCm.js";import"./vite-ssg-TQEZ2Lth.js";const lt=w({__name:"JsonToTypescript",setup($){const i=l(""),u=l(""),v=l(),f=l(""),h=o=>{f.value=o?.codeFrame||""},C=(o,r)=>{const e={},a=[];return Object.keys(o||[]).forEach(t=>{const s=t.split(/[^A-Za-z0-9]/).filter(Boolean).map((n,_)=>_>0?n.charAt(0).toUpperCase()+n.slice(1):n).join("")||"unknownName";if(typeof o[t]!="object"){e[s]=typeof o[t];return}if(e[s]=`I${s.charAt(0).toUpperCase()+s.slice(1)}`,Array.isArray(o[t]))if(o[t].length===0){e[s]="any[]";return}else if(typeof o[t][0]!="object"){e[s]=typeof o[t][0]+"[]";return}else e[s]+="[]";a.push({obj:Array.isArray(o[t])?o[t][0]:o[t],name:s})}),{list:a,str:`interface I${r.charAt(0).toUpperCase()+r.slice(1)} {
${Object.keys(e).map(t=>`  ${t}: ${e[t]}`).join(`
`)}
}

`}},E=()=>{let o="";const r=JSON.parse(i.value),e=[];for(e.push({obj:r,name:"root"});e.length;){const a=e.shift(),{list:t,str:s}=C(a.obj,a.name);o+=s,t.forEach(n=>e.push(n))}u.value=o,setTimeout(()=>v.value?.doFormatCode?.())};return(o,r)=>{const e=d("a-button"),a=d("a-alert");return N(),x(F,null,[r[5]||(r[5]=c("h1",null,"JSON转Typescript",-1)),p(g,{value:i.value,"onUpdate:value":r[1]||(r[1]=t=>i.value=t),language:"json","show-format":"",style:{"max-height":"300px"},onFormatError:h},{button:m(()=>[p(e,{class:"button",onClick:r[0]||(r[0]=t=>i.value="")},{default:m(()=>r[3]||(r[3]=[y("清空",-1)])),_:1,__:[3]}),p(e,{class:"button",type:"primary",onClick:E},{default:m(()=>r[4]||(r[4]=[y(" 转换 ",-1)])),_:1,__:[4]})]),_:1},8,["value"]),A(p(a,{type:"error"},{message:m(()=>[c("pre",null,T(f.value),1)]),_:1},512),[[S,f.value]]),r[6]||(r[6]=c("br",null,null,-1)),p(g,{ref_key:"tsEditorRef",ref:v,value:u.value,"onUpdate:value":r[2]||(r[2]=t=>u.value=t),language:"typescript","show-format":"",style:{"max-height":"300px"}},null,8,["value"])],64)}}});export{lt as default};
