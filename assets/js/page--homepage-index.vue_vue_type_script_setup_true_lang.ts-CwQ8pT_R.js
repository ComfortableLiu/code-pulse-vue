import{F as I,C as U}from"./page--about-AboutUs.vue_vue_type_script_setup_true_lang.ts-gpeZkSPn.js";import{d as b,r as R,o as O,f as C,$ as y,S as u,U as r,X as m,V as l,c as g,Y as E,F as v,a0 as k,_,G as T,a1 as S}from"./@vue-BkYI8UWU.js";class i{static get(e){return JSON.parse(localStorage.getItem(e))}static set(e,t){localStorage.setItem(e,JSON.stringify(t))}}const x="code-pulse-route-",p=x+"recent-visits",f=x+"frequent-routes",F=["/","/login","/404","/401","/500","/about","/about-us","/about-us/contact-us"];function N(n){return F.includes(n.path)}function j(n){if(N(n))return;const e=i.get(p)||[],t=e.findIndex(s=>s.path===n.path);if(t<0)e.unshift(n);else{const[s]=e.splice(t,1);e.unshift(s)}i.set(p,e)}function H(n){return(i.get(p)||[]).slice(0,n)}function A(n){if(N(n))return;const e=10,t=i.get(f)||[],s=t.findIndex(a=>a.route.path===n.path);if(s<0){const a={route:n,count:1},o=t.findIndex(d=>d.count===1);o>=0?t.splice(o,0,a):t.push(a)}else{t[s].count++,t[s].count>e&&(t[s].count=e);const a=t[s];let o=s-1;for(;o>=0&&t[o].count<=a.count;)o--;t.splice(s,1),t.splice(o+1,0,a)}i.set(f,t)}function L(n){return(i.get(f)||[]).slice(0,n)}const V={class:"container"},Y={key:1,class:"main-feature-area"},w={key:0,class:"base-component recently-used"},B={class:"content-area"},M={key:1,class:"base-component recently-used"},q={class:"content-area"},K=10,Q=10,D=b({__name:"index",setup(n){const e=R(),t=R();function s(a){a&&![p,f].includes(a.key||"")||(e.value=H(Q),t.value=L(K))}return O(()=>{window.addEventListener("storage",s),s()}),C(()=>{window.removeEventListener("storage",s)}),(a,o)=>{const d=y("a-button"),h=y("router-link");return r(),u("div",V,[!e.value?.length&&!t.value?.length?(r(),m(I,{key:0,style:{"margin-top":"48px"}})):(r(),u("div",Y,[e.value?.length?(r(),u("div",w,[o[0]||(o[0]=l("h2",{class:"title"},"最近使用",-1)),l("div",B,[(r(!0),u(v,null,k(e.value,c=>(r(),m(h,{key:c.path,to:c.path},{default:_(()=>[g(d,{class:"btn",type:"default"},{default:_(()=>[T(S(c.name),1)]),_:2},1024)]),_:2},1032,["to"]))),128))])])):E("",!0),t.value?.length?(r(),u("div",M,[o[1]||(o[1]=l("h2",{class:"title"},"最常用",-1)),l("div",q,[(r(!0),u(v,null,k(t.value,c=>(r(),m(h,{key:c.route.name,to:c.route.path},{default:_(()=>[g(d,{class:"btn",type:"primary"},{default:_(()=>[T(S(c.route.name),1)]),_:2},1024)]),_:2},1032,["to"]))),128))])])):E("",!0)])),o[2]||(o[2]=l("hr",null,null,-1)),g(U)])}}});export{D as _,A as a,j as m};
