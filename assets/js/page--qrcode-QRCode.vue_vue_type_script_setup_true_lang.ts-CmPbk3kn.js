import{d as A,r as d,j as G,w as I,S as z,V as n,c as l,_ as t,Y as B,u as E,F as P,$ as s,U as D,G as v,q as f,A as m}from"./@vue-BkYI8UWU.js";import{Q as X}from"./qrcode.vue-DMbQzwNu.js";import{D as $}from"./@icon-park-ttW2HrYe.js";function M(L){return L===void 0}const J={class:"workspace"},K={style:{display:"flex","flex-direction":"row",gap:"8px","align-items":"center"}},O={class:"more-form"},W={class:"advanced-settings"},Z={style:{display:"flex","flex-direction":"row",gap:"8px","align-items":"center"}},h={style:{display:"flex","flex-direction":"row",gap:"8px","align-items":"center"}},ee={style:{display:"flex","flex-direction":"row",gap:"8px","align-items":"center"}},le={class:"qrcode-preview"},ae={key:0,class:"qrcode-canvas"},te={key:1},de=A({__name:"QRCode",setup(L){const _=d("https://example.com"),N=d(300),T=d(),C=d("M"),y=d("#ffffff"),b=d("#000000"),c=d(1),r=d(!1),u=d({src:"",height:100,width:100,excavate:!0}),Q=G(()=>M(u.value.x)&&M(u.value.y)),i=d(!1),S=d("linear"),w=d("#000000"),U=d("#38bdf8");I([()=>u.value.width,()=>u.value.height,()=>u.value.x,()=>u.value.y,()=>u.value.excavate],()=>{const k=u.value.src;u.value.src="",setTimeout(()=>{u.value.src=k})});const F=()=>{const k=document.querySelector("canvas");if(!k)return;const e=document.createElement("a");e.download="qrcode.png",e.href=k.toDataURL("image/png"),e.click()};return(k,e)=>{const H=s("a-textarea"),o=s("a-form-item"),g=s("a-input-number"),p=s("a-input"),x=s("a-radio-button"),R=s("a-radio-group"),q=s("a-switch"),V=s("a-flex"),Y=s("a-form"),j=s("a-button");return D(),z(P,null,[e[36]||(e[36]=n("h1",null,"二维码生成",-1)),n("div",J,[l(Y,{class:"form"},{default:t(()=>[l(o,{label:"内容",rules:[{required:!0}]},{default:t(()=>[l(H,{value:_.value,"onUpdate:value":e[0]||(e[0]=a=>_.value=a),rows:"3",placeholder:"输入要编码的文本、URL等..."},null,8,["value"])]),_:1}),l(o,{label:"尺寸",rules:[{required:!0}]},{default:t(()=>[l(g,{disabled:"",value:N.value,"onUpdate:value":e[1]||(e[1]=a=>N.value=a),min:"100",max:"1000"},null,8,["value"])]),_:1}),l(o,{label:"颜色"},{default:t(()=>[n("div",K,[l(p,{value:b.value,"onUpdate:value":e[2]||(e[2]=a=>b.value=a),style:{width:"150px"}},null,8,["value"]),l(p,{type:"color",value:b.value,"onUpdate:value":e[3]||(e[3]=a=>b.value=a),style:{width:"80px"}},null,8,["value"])])]),_:1}),n("div",O,[l(o,{label:"边缘空白（%）"},{default:t(()=>[l(g,{value:c.value,"onUpdate:value":e[4]||(e[4]=a=>c.value=a)},null,8,["value"])]),_:1}),e[32]||(e[32]=n("div",{class:"hr-start"},[n("div",{class:"line"}),v(" 高级设置 "),n("div",{class:"line"})],-1)),n("div",W,[l(o,{label:"容错等级"},{help:t(()=>e[26]||(e[26]=[n("span",null,[v(" QR码具有“纠错功能”。即使编码变脏或破损，也可自动恢复数据。调高级别，纠错能力也相应提高，但编码尺寸也也会变大。"),n("a",{href:"https://www.qrcode.com/zh/about/error_correction.html",target:"_blank"},"查看详情")],-1)])),default:t(()=>[l(R,{value:C.value,"onUpdate:value":e[5]||(e[5]=a=>C.value=a)},{default:t(()=>[l(x,{value:"L"},{default:t(()=>e[22]||(e[22]=[v("L")])),_:1,__:[22]}),l(x,{value:"M"},{default:t(()=>e[23]||(e[23]=[v("M")])),_:1,__:[23]}),l(x,{value:"Q"},{default:t(()=>e[24]||(e[24]=[v("Q")])),_:1,__:[24]}),l(x,{value:"H"},{default:t(()=>e[25]||(e[25]=[v("H")])),_:1,__:[25]})]),_:1},8,["value"])]),_:1}),l(o,{label:"背景颜色",help:"普通二维码白色部分的颜色"},{default:t(()=>[n("div",Z,[l(p,{value:y.value,"onUpdate:value":e[6]||(e[6]=a=>y.value=a),style:{width:"150px"}},null,8,["value"]),l(p,{type:"color",value:y.value,"onUpdate:value":e[7]||(e[7]=a=>y.value=a),style:{width:"80px"}},null,8,["value"])])]),_:1}),l(o,{label:"logo设置"},{default:t(()=>[l(q,{checked:r.value,"onUpdate:checked":e[8]||(e[8]=a=>r.value=a)},null,8,["checked"])]),_:1}),f(l(o,{label:"图片地址",rules:[{required:r.value}]},{default:t(()=>[l(p,{type:"url",value:u.value.src,"onUpdate:value":e[9]||(e[9]=a=>u.value.src=a)},null,8,["value"])]),_:1},8,["rules"]),[[m,r.value]]),f(l(o,{label:"logo偏移量"},{default:t(()=>[l(V,{gap:"middle"},{default:t(()=>[l(V,{align:"center"},{default:t(()=>[e[27]||(e[27]=v(" 中心对齐： ")),l(q,{checked:Q.value,onChange:e[10]||(e[10]=a=>{u.value.x=a?void 0:0,u.value.y=a?void 0:0})},null,8,["checked"])]),_:1,__:[27]}),l(V,{align:"center",gap:"small"},{default:t(()=>[e[28]||(e[28]=v(" X: ")),l(g,{disabled:Q.value,value:u.value.x,"onUpdate:value":e[11]||(e[11]=a=>u.value.x=a)},null,8,["disabled","value"]),e[29]||(e[29]=v(" Y: ")),l(g,{disabled:Q.value,value:u.value.y,"onUpdate:value":e[12]||(e[12]=a=>u.value.y=a)},null,8,["disabled","value"])]),_:1,__:[28,29]})]),_:1})]),_:1},512),[[m,r.value]]),f(l(o,{label:"logo宽度",rules:[{required:r.value}]},{default:t(()=>[l(g,{value:u.value.width,"onUpdate:value":e[13]||(e[13]=a=>u.value.width=a)},null,8,["value"])]),_:1},8,["rules"]),[[m,r.value]]),f(l(o,{label:"logo高度",rules:[{required:r.value}]},{default:t(()=>[l(g,{type:"number",value:u.value.height,"onUpdate:value":e[14]||(e[14]=a=>u.value.height=a)},null,8,["value"])]),_:1},8,["rules"]),[[m,r.value]]),f(l(o,{label:"是否“挖掘”图像周围的模块",help:"这意味着嵌入图像重叠的任何模块都将使用背景颜色。使用此选项可确保图像周围的边缘清晰。嵌入透明图像时也很有用。"},{default:t(()=>[l(q,{checked:u.value.excavate,"onUpdate:checked":e[15]||(e[15]=a=>u.value.excavate=a)},null,8,["checked"])]),_:1},512),[[m,r.value]]),l(o,{label:"启用二维码渐变填充"},{default:t(()=>[l(q,{checked:i.value,"onUpdate:checked":e[16]||(e[16]=a=>i.value=a)},null,8,["checked"])]),_:1}),f(l(o,{label:"二维码渐变填充类型",rules:[{required:!!i.value}]},{default:t(()=>[l(R,{value:S.value,"onUpdate:value":e[17]||(e[17]=a=>S.value=a)},{default:t(()=>[l(x,{value:"linear"},{default:t(()=>e[30]||(e[30]=[v("linear")])),_:1,__:[30]}),l(x,{value:"radial"},{default:t(()=>e[31]||(e[31]=[v("radial")])),_:1,__:[31]})]),_:1},8,["value"])]),_:1},8,["rules"]),[[m,i.value]]),f(l(o,{label:"渐变起始颜色",rules:[{required:!!i.value}]},{default:t(()=>[n("div",h,[l(p,{value:w.value,"onUpdate:value":e[18]||(e[18]=a=>w.value=a),style:{width:"150px"}},null,8,["value"]),l(p,{type:"color",value:w.value,"onUpdate:value":e[19]||(e[19]=a=>w.value=a),style:{width:"80px"}},null,8,["value"])])]),_:1},8,["rules"]),[[m,i.value]]),f(l(o,{label:"渐变结束颜色",rules:[{required:!!i.value}]},{default:t(()=>[n("div",ee,[l(p,{value:U.value,"onUpdate:value":e[20]||(e[20]=a=>U.value=a),style:{width:"150px"}},null,8,["value"]),l(p,{type:"color",value:U.value,"onUpdate:value":e[21]||(e[21]=a=>U.value=a),style:{width:"80px"}},null,8,["value"])])]),_:1},8,["rules"]),[[m,i.value]])])])]),_:1}),e[35]||(e[35]=n("div",{class:"vertical-divider"},null,-1)),n("div",le,[e[34]||(e[34]=n("h2",null,"二维码预览",-1)),_.value?(D(),z("div",ae,[l(E(X),{ref_key:"qrcode",ref:T,value:_.value,size:300,margin:c.value,level:C.value,background:y.value,foreground:b.value,"image-settings":r.value?u.value:void 0,gradient:i.value,"gradient-type":S.value,"gradient-start-color":w.value,"gradient-end-color":U.value},null,8,["value","margin","level","background","foreground","image-settings","gradient","gradient-type","gradient-start-color","gradient-end-color"])])):B("",!0),_.value?(D(),z("div",te,[l(j,{onClick:F,style:{display:"flex","flex-direction":"row","align-items":"center"}},{default:t(()=>[l(E($),{theme:"outline",size:"16",fill:"#333"}),e[33]||(e[33]=v(" 下载二维码 "))]),_:1,__:[33]})])):B("",!0)])])],64)}}});export{de as _};
