import{F as I,C as U}from"./page--about-AboutUs.vue_vue_type_script_setup_true_lang.ts-BX25PuXo.js";import{d as b,r as y,o as O,f as C,$ as E,S as c,U as r,X as m,V as l,c as g,Y as v,F as h,a0 as k,_,G as T,a1 as S}from"./@vue-BkYI8UWU.js";class i{static get(e){return JSON.parse(localStorage.getItem(e))}static set(e,t){localStorage.setItem(e,JSON.stringify(t))}}const x="code-pulse-route-",p=x+"recent-visits",f=x+"frequent-routes",F=["/","/login","/404","/401","/500","/about","/about-us","/about-us/contact-us"];function N(n){return F.includes(n.path)}function X(n){if(N(n))return;const e=i.get(p)||[],t=e.findIndex(s=>s.path===n.path);if(t<0)e.unshift(n);else{const[s]=e.splice(t,1);e.unshift(s)}i.set(p,e)}function H(n){return(i.get(p)||[]).slice(0,n)}function j(n){if(N(n))return;const e=10,t=i.get(f)||[],s=t.findIndex(a=>a.route.path===n.path);if(s<0){const a={route:n,count:1},o=t.findIndex(d=>d.count===1);o>=0?t.splice(o,0,a):t.push(a)}else{t[s].count++,t[s].count>e&&(t[s].count=e);const a=t[s];let o=s-1;for(;o>=0&&t[o].count<=a.count;)o--;t.splice(s,1),t.splice(o+1,0,a)}i.set(f,t)}function L(n){return(i.get(f)||[]).slice(0,n)}const V={key:1,class:"main-feature-area"},Y={key:0,class:"base-component recently-used"},w={class:"content-area"},B={key:1,class:"base-component recently-used"},M={class:"content-area"},q=10,K=10,A=b({__name:"index",setup(n){const e=y(),t=y();function s(a){a&&![p,f].includes(a.key||"")||(e.value=H(K),t.value=L(q))}return O(()=>{window.addEventListener("storage",s),s()}),C(()=>{window.removeEventListener("storage",s)}),(a,o)=>{const d=E("a-button"),R=E("router-link");return r(),c(h,null,[!e.value?.length&&!t.value?.length?(r(),m(I,{key:0,style:{"margin-top":"48px"}})):(r(),c("div",V,[e.value?.length?(r(),c("div",Y,[o[0]||(o[0]=l("h2",{class:"title"},"最近使用",-1)),l("div",w,[(r(!0),c(h,null,k(e.value,u=>(r(),m(R,{key:u.path,to:u.path},{default:_(()=>[g(d,{class:"btn",type:"default"},{default:_(()=>[T(S(u.name),1)]),_:2},1024)]),_:2},1032,["to"]))),128))])])):v("",!0),t.value?.length?(r(),c("div",B,[o[1]||(o[1]=l("h2",{class:"title"},"最常用",-1)),l("div",M,[(r(!0),c(h,null,k(t.value,u=>(r(),m(R,{key:u.route.name,to:u.route.path},{default:_(()=>[g(d,{class:"btn",type:"primary"},{default:_(()=>[T(S(u.route.name),1)]),_:2},1024)]),_:2},1032,["to"]))),128))])])):v("",!0)])),o[2]||(o[2]=l("hr",null,null,-1)),g(U)],64)}}});export{A as _,j as a,X as m};
