import{d as Y,r,p as J,b as P,_ as V,Z as n,c as l,Y as t,a3 as N,u as B,F as Z,V as i,X as z,J as d,y as m,E as f}from"./@vue-B8PMCPwU.js";import{Q as j}from"./qrcode.vue-BNltTTu4.js";import{D as A}from"./@icon-park-CZzytYRv.js";import{_ as G}from"./app-CvsOIfNc.js";import"./vue-router-DB5MEJjo.js";import"./ant-design-vue-Bslm4asI.js";import"./@babel-Bq4_u9L9.js";import"./@ant-design-DcjsNAXz.js";import"./@ctrl-DOFZgDuz.js";import"./resize-observer-polyfill-B1PUzC5B.js";import"./@emotion-BtrR-yrm.js";import"./stylis-D5iaQeiq.js";import"./scroll-into-view-if-needed-SxpMpKWN.js";import"./compute-scroll-into-view-1gs_hJI2.js";import"./vue-types-99Xd1yP8.js";import"./dom-align-CRCehRfe.js";import"./lodash-es-DnYq9fPm.js";import"./dayjs-BHTRFByd.js";import"./async-validator-CRx4dHSJ.js";import"./throttle-debounce-CUWDS_la.js";import"./@vueuse-Cg6gI6gr.js";import"./@unhead-B6qWnqD-.js";import"./unhead-DPTvQ17R.js";import"./hookable-B8xFkYCm.js";import"./vite-ssg-TQEZ2Lth.js";function M(D){return D===void 0}const K={class:"workspace"},O={style:{display:"flex","flex-direction":"row",gap:"8px","align-items":"center"}},W={class:"more-form"},$={class:"advanced-settings"},h={style:{display:"flex","flex-direction":"row",gap:"8px","align-items":"center"}},ee={style:{display:"flex","flex-direction":"row",gap:"8px","align-items":"center"}},le={style:{display:"flex","flex-direction":"row",gap:"8px","align-items":"center"}},ae={class:"qrcode-preview"},te={key:0,class:"qrcode-canvas"},ue={key:1},oe=Y({__name:"QRCode",setup(D){const x=r("https://example.com"),E=r(300),T=r(),c=r("M"),y=r("#ffffff"),b=r("#000000"),C=r(1),v=r(!1),u=r({src:"",height:100,width:100,excavate:!0}),Q=J(()=>M(u.value.x)&&M(u.value.y)),s=r(!1),R=r("linear"),w=r("#000000"),U=r("#38bdf8");P([()=>u.value.width,()=>u.value.height,()=>u.value.x,()=>u.value.y,()=>u.value.excavate],()=>{const k=u.value.src;u.value.src="",setTimeout(()=>{u.value.src=k})});const F=()=>{{const k=document.querySelector("canvas");if(!k)return;const e=document.createElement("a");e.download="qrcode.png",e.href=k.toDataURL("image/png"),e.click()}};return(k,e)=>{const H=i("a-textarea"),o=i("a-form-item"),g=i("a-input-number"),p=i("a-input"),_=i("a-radio-button"),L=i("a-radio-group"),q=i("a-switch"),S=i("a-flex"),I=i("a-form"),X=i("a-button");return z(),V(Z,null,[e[36]||(e[36]=n("h1",null,"二维码生成",-1)),n("div",K,[l(I,{class:"form"},{default:t(()=>[l(o,{label:"内容",rules:[{required:!0}]},{default:t(()=>[l(H,{value:x.value,"onUpdate:value":e[0]||(e[0]=a=>x.value=a),rows:"3",placeholder:"输入要编码的文本、URL等..."},null,8,["value"])]),_:1}),l(o,{label:"尺寸",rules:[{required:!0}]},{default:t(()=>[l(g,{disabled:"",value:E.value,"onUpdate:value":e[1]||(e[1]=a=>E.value=a),min:"100",max:"1000"},null,8,["value"])]),_:1}),l(o,{label:"颜色"},{default:t(()=>[n("div",O,[l(p,{value:b.value,"onUpdate:value":e[2]||(e[2]=a=>b.value=a),style:{width:"150px"}},null,8,["value"]),l(p,{type:"color",value:b.value,"onUpdate:value":e[3]||(e[3]=a=>b.value=a),style:{width:"80px"}},null,8,["value"])])]),_:1}),n("div",W,[l(o,{label:"边缘空白（%）"},{default:t(()=>[l(g,{value:C.value,"onUpdate:value":e[4]||(e[4]=a=>C.value=a)},null,8,["value"])]),_:1}),e[32]||(e[32]=n("div",{class:"hr-start"},[n("div",{class:"line"}),d(" 高级设置 "),n("div",{class:"line"})],-1)),n("div",$,[l(o,{label:"容错等级"},{help:t(()=>e[26]||(e[26]=[n("span",null,[d(" QR码具有“纠错功能”。即使编码变脏或破损，也可自动恢复数据。调高级别，纠错能力也相应提高，但编码尺寸也也会变大。"),n("a",{href:"https://www.qrcode.com/zh/about/error_correction.html",target:"_blank"},"查看详情")],-1)])),default:t(()=>[l(L,{value:c.value,"onUpdate:value":e[5]||(e[5]=a=>c.value=a)},{default:t(()=>[l(_,{value:"L"},{default:t(()=>e[22]||(e[22]=[d("L",-1)])),_:1,__:[22]}),l(_,{value:"M"},{default:t(()=>e[23]||(e[23]=[d("M",-1)])),_:1,__:[23]}),l(_,{value:"Q"},{default:t(()=>e[24]||(e[24]=[d("Q",-1)])),_:1,__:[24]}),l(_,{value:"H"},{default:t(()=>e[25]||(e[25]=[d("H",-1)])),_:1,__:[25]})]),_:1},8,["value"])]),_:1}),l(o,{label:"背景颜色",help:"普通二维码白色部分的颜色"},{default:t(()=>[n("div",h,[l(p,{value:y.value,"onUpdate:value":e[6]||(e[6]=a=>y.value=a),style:{width:"150px"}},null,8,["value"]),l(p,{type:"color",value:y.value,"onUpdate:value":e[7]||(e[7]=a=>y.value=a),style:{width:"80px"}},null,8,["value"])])]),_:1}),l(o,{label:"logo设置"},{default:t(()=>[l(q,{checked:v.value,"onUpdate:checked":e[8]||(e[8]=a=>v.value=a)},null,8,["checked"])]),_:1}),m(l(o,{label:"图片地址",rules:[{required:v.value}]},{default:t(()=>[l(p,{type:"url",value:u.value.src,"onUpdate:value":e[9]||(e[9]=a=>u.value.src=a)},null,8,["value"])]),_:1},8,["rules"]),[[f,v.value]]),m(l(o,{label:"logo偏移量"},{default:t(()=>[l(S,{gap:"middle"},{default:t(()=>[l(S,{align:"center"},{default:t(()=>[e[27]||(e[27]=d(" 中心对齐： ",-1)),l(q,{checked:Q.value,onChange:e[10]||(e[10]=a=>{u.value.x=a?void 0:0,u.value.y=a?void 0:0})},null,8,["checked"])]),_:1,__:[27]}),l(S,{align:"center",gap:"small"},{default:t(()=>[e[28]||(e[28]=d(" X: ",-1)),l(g,{disabled:Q.value,value:u.value.x,"onUpdate:value":e[11]||(e[11]=a=>u.value.x=a)},null,8,["disabled","value"]),e[29]||(e[29]=d(" Y: ",-1)),l(g,{disabled:Q.value,value:u.value.y,"onUpdate:value":e[12]||(e[12]=a=>u.value.y=a)},null,8,["disabled","value"])]),_:1,__:[28,29]})]),_:1})]),_:1},512),[[f,v.value]]),m(l(o,{label:"logo宽度",rules:[{required:v.value}]},{default:t(()=>[l(g,{value:u.value.width,"onUpdate:value":e[13]||(e[13]=a=>u.value.width=a)},null,8,["value"])]),_:1},8,["rules"]),[[f,v.value]]),m(l(o,{label:"logo高度",rules:[{required:v.value}]},{default:t(()=>[l(g,{type:"number",value:u.value.height,"onUpdate:value":e[14]||(e[14]=a=>u.value.height=a)},null,8,["value"])]),_:1},8,["rules"]),[[f,v.value]]),m(l(o,{label:"是否“挖掘”图像周围的模块",help:"这意味着嵌入图像重叠的任何模块都将使用背景颜色。使用此选项可确保图像周围的边缘清晰。嵌入透明图像时也很有用。"},{default:t(()=>[l(q,{checked:u.value.excavate,"onUpdate:checked":e[15]||(e[15]=a=>u.value.excavate=a)},null,8,["checked"])]),_:1},512),[[f,v.value]]),l(o,{label:"启用二维码渐变填充"},{default:t(()=>[l(q,{checked:s.value,"onUpdate:checked":e[16]||(e[16]=a=>s.value=a)},null,8,["checked"])]),_:1}),m(l(o,{label:"二维码渐变填充类型",rules:[{required:!!s.value}]},{default:t(()=>[l(L,{value:R.value,"onUpdate:value":e[17]||(e[17]=a=>R.value=a)},{default:t(()=>[l(_,{value:"linear"},{default:t(()=>e[30]||(e[30]=[d("linear",-1)])),_:1,__:[30]}),l(_,{value:"radial"},{default:t(()=>e[31]||(e[31]=[d("radial",-1)])),_:1,__:[31]})]),_:1},8,["value"])]),_:1},8,["rules"]),[[f,s.value]]),m(l(o,{label:"渐变起始颜色",rules:[{required:!!s.value}]},{default:t(()=>[n("div",ee,[l(p,{value:w.value,"onUpdate:value":e[18]||(e[18]=a=>w.value=a),style:{width:"150px"}},null,8,["value"]),l(p,{type:"color",value:w.value,"onUpdate:value":e[19]||(e[19]=a=>w.value=a),style:{width:"80px"}},null,8,["value"])])]),_:1},8,["rules"]),[[f,s.value]]),m(l(o,{label:"渐变结束颜色",rules:[{required:!!s.value}]},{default:t(()=>[n("div",le,[l(p,{value:U.value,"onUpdate:value":e[20]||(e[20]=a=>U.value=a),style:{width:"150px"}},null,8,["value"]),l(p,{type:"color",value:U.value,"onUpdate:value":e[21]||(e[21]=a=>U.value=a),style:{width:"80px"}},null,8,["value"])])]),_:1},8,["rules"]),[[f,s.value]])])])]),_:1}),e[35]||(e[35]=n("div",{class:"vertical-divider"},null,-1)),n("div",ae,[e[34]||(e[34]=n("h2",null,"二维码预览",-1)),x.value?(z(),V("div",te,[l(B(j),{ref_key:"qrcode",ref:T,value:x.value,size:300,margin:C.value,level:c.value,background:y.value,foreground:b.value,"image-settings":v.value?u.value:void 0,gradient:s.value,"gradient-type":R.value,"gradient-start-color":w.value,"gradient-end-color":U.value},null,8,["value","margin","level","background","foreground","image-settings","gradient","gradient-type","gradient-start-color","gradient-end-color"])])):N("",!0),x.value?(z(),V("div",ue,[l(X,{onClick:F,style:{display:"flex","flex-direction":"row","align-items":"center"}},{default:t(()=>[l(B(A),{theme:"outline",size:"16",fill:"#333"}),e[33]||(e[33]=d(" 下载二维码 ",-1))]),_:1,__:[33]})])):N("",!0)])])],64)}}}),De=G(oe,[["__scopeId","data-v-beefce07"]]);export{De as default};
